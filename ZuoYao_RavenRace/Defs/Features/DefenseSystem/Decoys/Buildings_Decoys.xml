<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <!-- ==================== 假人本体 (改为炮塔类) ==================== -->
  <ThingDef ParentName="BuildingBase">
    <defName>RavenDecoy_Dummy</defName>
    <label>渡鸦诱饵假人</label>
    <description>一个模拟渡鸦族士兵的逼真假人。内置了电子信号模拟器，敌方AI会将其识别为高威胁的武装单位（炮塔）。\n\n它配备了一把没有伤害的模拟枪，通过不断的“攻击”来吸引敌人的仇恨。</description>
    <thingClass>Building_TurretGun</thingClass>
    <graphicData>
      <texPath>Buildings/DefenseSystem/RavenDecoy/DecoyDummy</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>1.2</drawSize>
    </graphicData>
    
    <!-- 核心修改：移除 turretTop place worker，它会绘制一个额外的蓝图底座导致叠加 -->
    <placeWorkers>
      <!-- <li>PlaceWorker_TurretTop</li> -->
    </placeWorkers>
    
    <uiIconPath>Buildings/DefenseSystem/RavenDecoy/DecoyDummy</uiIconPath> <!-- 使用 UI Icon，让建造菜单显示正确 -->
    <uiIconScale>0.8</uiIconScale> <!-- 调整UI图标大小 -->

    <altitudeLayer>Building</altitudeLayer>
    <stealable>false</stealable>
    <rotatable>false</rotatable>
    <statBases>
      <MaxHitPoints>300</MaxHitPoints>
      <Flammability>1.0</Flammability>
      <WorkToBuild>500</WorkToBuild>
      <Mass>10</Mass>
      <Beauty>-5</Beauty>
      <ShootingAccuracyTurret>0.96</ShootingAccuracyTurret>
    </statBases>
    <tickerType>Normal</tickerType>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <fillPercent>0.5</fillPercent>
    <costList>
      <WoodLog>30</WoodLog>
      <Cloth>20</Cloth>
      <Steel>10</Steel>
    </costList>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <building>
      <combatPower>5000</combatPower> 
      <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>RavenDecoy_Dummy_Gun</turretGunDef> 
      <turretBurstCooldownTime>1</turretBurstCooldownTime>
      <expandHomeArea>false</expandHomeArea>
    </building>
    <designationCategory>Security</designationCategory>
    <researchPrerequisites>
      <li>RavenResearch_DecoyTech</li>
    </researchPrerequisites>
  </ThingDef>

  <!-- 假枪和假子弹定义保持不变 -->
  <ThingDef ParentName="BaseWeaponTurret">
    <defName>RavenDecoy_Dummy_Gun</defName>
    <label>诱饵信号发射器</label>
    <description>假人内置的模拟武器，发射无害的信号弹。</description>
    <graphicData>
      <texPath>Races/Raven/Hair/Transparent</texPath> 
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0</drawSize>
    </graphicData>
    <statBases>
      <RangedWeapon_Cooldown>0.5</RangedWeapon_Cooldown>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>1</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>RavenDecoy_Dummy_Bullet</defaultProjectile>
        <warmupTime>0</warmupTime>
        <range>45.9</range>
        <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
        <burstShotCount>3</burstShotCount>
        <soundCast>Shot_Autopistol</soundCast> 
      </li>
    </verbs>
  </ThingDef>

  <ThingDef ParentName="BaseBullet">
    <defName>RavenDecoy_Dummy_Bullet</defName>
    <label>模拟信号</label>
    <graphicData>
      <texPath>Things/Projectile/Bullet_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
      <color>(255, 255, 255, 0)</color>
    </graphicData>
    <projectile>
      <speed>100</speed>
      <damageDef>Stun</damageDef>
      <damageAmountBase>0</damageAmountBase>
    </projectile>
  </ThingDef>

</Defs>