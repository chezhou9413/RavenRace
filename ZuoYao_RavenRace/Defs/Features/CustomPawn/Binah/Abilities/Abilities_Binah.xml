<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- 柱之射击 -->
  <AbilityDef>
    <defName>Raven_Ability_Binah_PillarShot</defName>
    <label>柱之射击</label>
    <description>射出8根暴虐之碑，向四周扩散攻击敌人。</description>
    <iconPath>Races/Raven/Special/Binah/Abilities/PillarAttack</iconPath>
    <cooldownTicksRange>600</cooldownTicksRange>
    <warmupStartSound>Artillery_ShellLoaded</warmupStartSound>
    <targetRequired>false</targetRequired>
    <showCastingProgressBar>true</showCastingProgressBar>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>0.1</range>
      <warmupTime>0.5</warmupTime>
      <targetParams>
        <canTargetSelf>true</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="RavenRace.Features.CustomPawn.Binah.CompProperties_AbilityPillarShot"/>
    </comps>
  </AbilityDef>

  <!-- 震击 -->
  <AbilityDef>
    <defName>Raven_Ability_Binah_Shockwave</defName>
    <label>震击</label>
    <description>向周围释放金色冲击波，造成大范围伤害并击晕敌人。</description>
    <iconPath>Races/Raven/Special/Binah/Abilities/Shockwave</iconPath>
    <cooldownTicksRange>600</cooldownTicksRange>
    <targetRequired>false</targetRequired>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>0.1</range>
      <warmupTime>1.0</warmupTime>
      <targetParams>
        <canTargetSelf>true</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="RavenRace.Features.CustomPawn.Binah.CompProperties_AbilityShockwave">
        <radius>30</radius>
        <damageAmount>500</damageAmount>
      </li>
    </comps>
  </AbilityDef>

  <!-- 劣化之柱 -->
  <AbilityDef>
    <defName>Raven_Ability_Binah_DegradationPillar</defName>
    <label>劣化之柱</label>
    <description>向目标发射带有妖灵拖尾的劣化之柱。</description>
    <iconPath>Races/Raven/Special/Binah/Abilities/Fairy</iconPath>
    <cooldownTicksRange>300</cooldownTicksRange>
    <targetRequired>true</targetRequired>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>50</range>
      <warmupTime>0.5</warmupTime>
      <requireLineOfSight>true</requireLineOfSight>
      <targetParams>
        <canTargetLocations>true</canTargetLocations>
        <canTargetPawns>true</canTargetPawns>
        <canTargetBuildings>true</canTargetBuildings>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="RavenRace.Features.CustomPawn.Binah.CompProperties_AbilityDegradationPillar"/>
    </comps>
  </AbilityDef>

  <!-- 劣化之锁 -->
  <AbilityDef>
    <defName>Raven_Ability_Binah_DegradationLock</defName>
    <label>劣化之锁</label>
    <description>用锁链束缚目标，大幅降低其行动能力。</description>
    <iconPath>Races/Raven/Special/Binah/Abilities/LockChain</iconPath>
    <cooldownTicksRange>600</cooldownTicksRange>
    <targetRequired>true</targetRequired>
    <displayGizmoWhileUndrafted>true</displayGizmoWhileUndrafted>
    <disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
    <verbProperties>
      <verbClass>Verb_CastAbility</verbClass>
      <range>25</range>
      <warmupTime>0.5</warmupTime>
      <requireLineOfSight>true</requireLineOfSight>
      <targetParams>
        <canTargetPawns>true</canTargetPawns>
        <!-- [Fix] Removed onlyTargetHostilePawns -->
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="RavenRace.Features.CustomPawn.Binah.CompProperties_AbilityDegradationLock">
        <hediffDef>Raven_Hediff_Binah_DegradationLock</hediffDef>
        <replaceExisting>true</replaceExisting>
        <applyToTarget>true</applyToTarget>
      </li>
    </comps>
  </AbilityDef>
</Defs>